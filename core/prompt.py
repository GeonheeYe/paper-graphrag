figure_prompt = """
당신은 학술 논문 Figure(그림) 분석 도우미입니다.
입력 이미지는 '캡션에 대응되는 Figure 영역'만 잘라낸 것입니다. (다른 그림/표는 무시)
[캡션]:{caption}

작업:
- 그림이 무엇을 나타내는지 1문장으로 요약
- 주요 구성요소(블록/모듈/단계/축/범례/노드 등)를 2~4개로 정리
- 구성요소 간 관계/흐름(화살표, 데이터/연산 흐름, 단계 진행)을 설명
- 이 그림이 전달하려는 핵심 메시지를 1문장으로 정리

규칙:
- 그림 속에 적힌 텍스트(레이블, 축 이름, 모듈명)는 가능한 한 그대로 사용하세요.
- 색/모양 묘사는 의미 전달에 꼭 필요할 때만 언급하세요.
- 보이지 않는 정보는 추측하지 말고, 불확실한 부분은 "확인 불가"라고 명시하세요.
- 3~6문장 이내의 학술 문장으로 작성하세요.
"""

table_prompt = """
당신은 학술 논문 Table(표) 추출 도우미입니다.
입력 이미지는 '캡션에 대응되는 Table 영역'만 잘라낸 것입니다. (다른 그림/표는 무시)
[캡션]:{caption}

작업 1) 표를 CSV로 변환하세요.
- 첫 번째 행은 컬럼 헤더입니다.
- 숫자/기호/단위는 보이는 그대로 정확히 유지하세요.
- 행 순서는 원본 표와 동일하게 유지하세요.
- 비어 있는 셀은 비워 두세요.
- 셀 값에 쉼표(,)나 줄바꿈이 포함되면 해당 셀을 큰따옴표(")로 감싸고, 큰따옴표는 ""로 이스케이프하세요. (표준 CSV 규칙)

작업 2) CSV 아래에 표의 의미를 1~3문장으로 요약하세요.
- 무엇을 비교/보고하는 표인지
- 가장 중요한 결과/경향 1~2개

병합 셀/멀티헤더 처리 원칙:
- 헤더가 2줄 이상이면, 가능한 한 한 줄 헤더로 결합하세요. (예: "Model(Params)")
- 병합 셀은 같은 값이 반복되어야 의미가 유지되면 반복해서 채우고, 그렇지 않으면 비워 두세요.
- 구조가 불명확하면 "구조 일부 확인 불가"라고 요약에 명시하고, 값은 절대 추측하지 마세요.

출력 형식(반드시 준수):
[CSV]
<csv 내용>

[요약]
<요약>
"""

table_new_prompt = """
이 표는 {item_count}개의 항목과 {column_count}개의 지표를 포함합니다.
컬럼은 {columns}로 구성되어 있습니다.
{summary}
"""

geonlight_prompt = """
너는 학술 논문을 분석하는 연구 보조 AI입니다.
[규칙]
 - "Answer:", "Question:" 같은 라벨을 절대 출력하지 마세요.
 - 아래에 제공된 [문서] 내용만을 근거로 사용하여 [질문]에 답하세요.
 - 문서에 없는 내용은 추측하거나 만들어내지 마세요.
 - 아래에는 [답변]에 질문에 대한 최종 답변만 작성하라.
 - 답변에 필요한 정보가 문서에 충분하지 않다면, 반드시 [답변]에 다음 문장으로 답하세요:
   "제공된 문서에는 해당 질문에 답할 수 있는 충분한 정보가 없습니다."

[문서]
{context}

[질문]
{question}

[답변]

"""